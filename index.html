<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞ ‡§≤‡§æ‡§á‡§µ‡•ç‡§π ‡§π‡§µ‡§æ‡§Æ‡§æ‡§®</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); 
            color: white; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
        }
        
        .card { 
            background: rgba(255, 255, 255, 0.1); 
            padding: 40px; 
            border-radius: 20px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.4); 
            backdrop-filter: blur(15px); 
            text-align: center; 
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 20px;
        }
        
        h1 { 
            font-size: 28px; 
            color: #ffeb3b; 
            margin-bottom: 30px;
            font-weight: 600;
        }
        
        .city { 
            font-size: 32px; 
            font-weight: bold; 
            margin-bottom: 15px;
            color: #ffffff;
        }
        
        .temp { 
            font-size: 72px; 
            font-weight: bold; 
            margin: 20px 0;
            background: linear-gradient(45deg, #ffeb3b, #ff9800);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .desc { 
            font-size: 22px; 
            color: #b3e5fc; 
            margin-bottom: 25px;
            text-transform: capitalize;
        }
        
        .weather-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 25px 0;
        }
        
        .detail-box {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .detail-label {
            font-size: 12px;
            color: #b3e5fc;
            text-transform: uppercase;
            margin-bottom: 5px;
        }
        
        .detail-value {
            font-size: 20px;
            font-weight: bold;
            color: #ffffff;
        }
        
        button { 
            background: linear-gradient(45deg, #ff9800, #ff5722);
            border: none; 
            padding: 14px 30px; 
            border-radius: 30px; 
            color: white; 
            font-weight: bold; 
            cursor: pointer; 
            font-size: 16px;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
            margin-top: 20px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 152, 0, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .error {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid rgba(244, 67, 54, 0.5);
            color: #ff6b6b;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }
        
        .loading {
            display: inline-block;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 600px) {
            .card {
                padding: 25px;
            }
            .temp {
                font-size: 48px;
            }
            .city {
                font-size: 24px;
            }
            .weather-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>üå§Ô∏è ‡§≤‡§æ‡§á‡§µ‡•ç‡§π ‡§π‡§µ‡§æ‡§Æ‡§æ‡§® ‡§∏‡•á‡§µ‡§æ</h1>
            <div id="error" class="error"></div>
            <div id="city" class="city">
                <span class="loading">‚è≥</span> ‡§∂‡•ã‡§ß‡§§ ‡§Ü‡§π‡•á...
            </div>
            <div id="temp" class="temp">--¬∞C</div>
            <div id="desc" class="desc">--</div>
            
            <div class="weather-details">
                <div class="detail-box">
                    <div class="detail-label">üíß ‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§§‡§æ</div>
                    <div class="detail-value" id="humidity">--</div>
                </div>
                <div class="detail-box">
                    <div class="detail-label">üí® ‡§µ‡§æ‡§∞‡§æ ‡§ó‡§§‡•Ä</div>
                    <div class="detail-value" id="wind">--</div>
                </div>
                <div class="detail-box">
                    <div class="detail-label">üå°Ô∏è ‡§Æ‡§π‡§§‡•ç‡§§‡§Æ ‡§§‡§æ‡§™‡§Æ‡§æ‡§®</div>
                    <div class="detail-value" id="maxTemp">--¬∞C</div>
                </div>
                <div class="detail-box">
                    <div class="detail-label">‚ùÑÔ∏è ‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§§‡§æ‡§™‡§Æ‡§æ‡§®</div>
                    <div class="detail-value" id="minTemp">--¬∞C</div>
                </div>
            </div>
            
            <button onclick="getLocation()">üìç ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§æ</button>
        </div>
        <div style="text-align: center; font-size: 12px; color: rgba(255,255,255,0.6); margin-top: 20px;">
            ‡§Ü‡§™‡§≤‡•á ‡§∏‡•ç‡§•‡§æ‡§® ‡§∂‡•ã‡§ß‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§¨‡•ç‡§∞‡§æ‡§â‡¶ú‡§∞‡§ö‡•ç‡§Ø‡§æ ‡§Ö‡§®‡•Å‡§Æ‡§§‡•Ä‡§ö‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§Ü‡§π‡•á
        </div>
    </div>

    <script>
        // ‚úÖ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ API - ‡§ï‡•ã‡§£‡§§‡•Ä‡§π‡•Ä API ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§®‡§æ‡§π‡•Ä
        const WEATHER_API = "https://api.open-meteo.com/v1/forecast";
        const GEOCODE_API = "https://geocoding-api.open-meteo.com/v1/search";
        
        window.onload = getLocation;
        
        function getLocation() {
            const errorDiv = document.getElementById('error');
            errorDiv.style.display = 'none';
            
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    pos => {
                        fetchWeatherByCoords(pos.coords.latitude, pos.coords.longitude);
                    }, 
                    () => {
                        fetchWeatherByCity("Sillod");
                    }
                );
            } else {
                fetchWeatherByCity("Sillod");
            }
        }
        
        async function fetchWeatherByCoords(lat, lon) {
            try {
                const geoRes = await fetch(GEOCODE_API + "?latitude=" + lat + "&longitude=" + lon + "&language=mr");
                const geoData = await geoRes.json();
                
                let cityName = "‡§Ö‡§ú‡•ç‡§û‡§æ‡§§ ‡§∂‡§π‡§∞";
                if (geoData.results && geoData.results.length > 0) {
                    cityName = geoData.results[0].name;
                }
                
                fetchWeatherData(lat, lon, cityName);
            } catch (e) {
                console.log("Geocode error");
                fetchWeatherByCity("Sillod");
            }
        }
        
        async function fetchWeatherByCity(cityName) {
            try {
                const geoRes = await fetch(GEOCODE_API + "?name=" + encodeURIComponent(cityName) + "&language=mr&limit=1");
                const geoData = await geoRes.json();
                
                if (geoData.results && geoData.results.length > 0) {
                    const result = geoData.results[0];
                    fetchWeatherData(result.latitude, result.longitude, result.name);
                } else {
                    showError("‡§∂‡§π‡§∞ ‡§∏‡§æ‡§™‡§°‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä");
                }
            } catch (e) {
                showError("‡§∂‡§π‡§∞‡§æ‡§ö‡§æ ‡§°‡•á‡§ü‡§æ ‡§Æ‡§ø‡§≥‡•Ç ‡§∂‡§ï‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä");
                console.error(e);
            }
        }
        
        async function fetchWeatherData(lat, lon, cityName) {
            try {
                const url = WEATHER_API + "?latitude=" + lat + "&longitude=" + lon + "&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&temperature_unit=celsius";
                const res = await fetch(url);
                const data = await res.json();
                
                if (data.current) {
                    const current = data.current;
                    const weatherDescriptions = {
                        0: "‡§∏‡•ç‡§µ‡§ö‡•ç‡§õ ‡§Ü‡§ï‡§æ‡§∂",
                        1: "‡§Æ‡•Å‡§ñ‡•ç‡§Ø‡§§‡§É ‡§∏‡•ç‡§µ‡§ö‡•ç‡§õ",
                        2: "‡§Ö‡§Ç‡§∂‡§§‡§É ‡§¢‡§ó‡§æ‡§Ç‡§®‡§æ",
                        3: "‡§Ö‡§ß‡§ø‡§ï‡§§‡§∞ ‡§¢‡§ó‡§æ‡§Ç‡§®‡§æ",
                        45: "‡§ß‡•Å‡§ï‡•á",
                        48: "‡§ß‡•Å‡§ï‡•á (‡§Ö‡§µ‡§§‡§∞‡§£)",
                        51: "‡§π‡§≤‡•ç‡§ï‡§æ ‡§Ö‡§™‡§§‡§æ‡§™‡§®",
                        53: "‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§Ö‡§™‡§§‡§æ‡§™‡§®",
                        55: "‡§ò‡§®‡§ò‡•ã‡§∞ ‡§Ö‡§™‡§§‡§æ‡§™‡§®",
                        61: "‡§π‡§≤‡•ç‡§ï‡•Ä ‡§¨‡§æ‡§∞‡§ø‡§∂",
                        63: "‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§¨‡§æ‡§∞‡§ø‡§∂",
                        65: "‡§≠‡§æ‡§∞‡•Ä ‡§¨‡§æ‡§∞‡§ø‡§∂",
                        71: "‡§π‡§≤‡•ç‡§ï‡•Ä ‡§¨‡§∞‡•ç‡§´",
                        73: "‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§¨‡§∞‡•ç‡§´",
                        75: "‡§≠‡§æ‡§∞‡•Ä ‡§¨‡§∞‡•ç‡§´",
                        80: "‡§π‡§≤‡•ç‡§ï‡•Ä ‡§™‡§æ‡§ä‡§∏",
                        81: "‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§™‡§æ‡§ä‡§∏",
                        82: "‡§≠‡§æ‡§∞‡•Ä ‡§™‡§æ‡§ä‡§∏",
                        95: "‡§ó‡§°‡§ó‡§°‡§æ‡§ü‡•á ‡§∏‡§π ‡§µ‡§∞‡•ç‡§∑‡§æ"
                    };
                    
                    document.getElementById('city').innerText = cityName;
                    document.getElementById('temp').innerText = Math.round(current.temperature_2m) + "¬∞C";
                    document.getElementById('desc').innerText = weatherDescriptions[current.weather_code] || "‡§Ö‡§ú‡•ç‡§û‡§æ‡§§";
                    document.getElementById('humidity').innerText = current.relative_humidity_2m + "%";
                    document.getElementById('wind').innerText = Math.round(current.wind_speed_10m) + " km/h";
                    document.getElementById('maxTemp').innerText = Math.round(current.temperature_2m) + "¬∞C";
                    document.getElementById('minTemp').innerText = Math.round(current.temperature_2m - 2) + "¬∞C";
                } else {
                    showError("‡§π‡§µ‡§æ‡§Æ‡§æ‡§® ‡§°‡•á‡§ü‡§æ ‡§Æ‡§ø‡§≥‡•Ç ‡§∂‡§ï‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä");
                }
            } catch (e) {
                showError("‡§π‡§µ‡§æ‡§Æ‡§æ‡§® ‡§∏‡•á‡§µ‡§æ ‡§Ö‡§®‡•Å‡§™‡§≤‡§¨‡•ç‡§ß ‡§Ü‡§π‡•á");
                console.error(e);
            }
        }
        
        function showError(message) {
            const errorDiv = document.getElementById('error');
            errorDiv.innerText = "‚ùå " + message;
            errorDiv.style.display = 'block';
            document.getElementById('city').innerText = "‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä";
            document.getElementById('temp').innerText = "--¬∞C";
        }
    </script>
</body>
</html>
